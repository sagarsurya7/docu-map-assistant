
import { Doctor } from '../types';
import { puneAreas } from './locations';
import { specialties } from './specialties';
import { getDoctors } from '../api/doctorService';

// Fallback doctors data - will be used if API fails
export const fallbackDoctors: Doctor[] = [
  {
    id: "1",
    name: "Dr. John Doe",
    specialty: "Cardiologist",
    address: "100, MG Road",
    area: "Camp",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.5,
    experience: 10,
    languages: ["English", "Hindi"],
    education: ["MBBS - AFMC Pune", "MD - Cardiology, AIIMS Delhi"],
    available: true,
    consultationFee: 1500,
    imageUrl: "https://example.com/doctor1.jpg",
    gender: "male",
    location: { lat: 18.5204, lng: 73.8567 }
  },
  {
    id: "2",
    name: "Dr. Alice Smith",
    specialty: "Dermatologist",
    address: "200, FC Road",
    area: "Shivajinagar",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.5,
    experience: 8,
    languages: ["English", "Marathi"],
    education: ["MBBS - BJMC", "MD - Dermatology, KEM Mumbai"],
    available: true,
    consultationFee: 1000,
    imageUrl: "https://example.com/doctor2.jpg",
    gender: "female",
    location: { lat: 18.5300, lng: 73.8450 }
  },
  {
    id: "3",
    name: "Dr. Rajesh Kumar",
    specialty: "Neurologist",
    address: "301, East Street",
    area: "Camp",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.8,
    experience: 15,
    languages: ["English", "Hindi", "Marathi"],
    education: ["MBBS - AIIMS Delhi", "MD - Neurology, NIMHANS"],
    available: true,
    consultationFee: 2000,
    imageUrl: "https://example.com/doctor3.jpg",
    gender: "male",
    location: { lat: 18.5250, lng: 73.8650 }
  },
  {
    id: "4",
    name: "Dr. Sarah Wilson",
    specialty: "Pediatrician",
    address: "402, Baner Road",
    area: "Baner",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.7,
    experience: 12,
    languages: ["English", "Hindi"],
    education: ["MBBS - BJMC", "MD - Pediatrics, AIIMS"],
    available: true,
    consultationFee: 1200,
    imageUrl: "https://example.com/doctor4.jpg",
    gender: "female",
    location: { lat: 18.5590, lng: 73.7868 }
  },
  {
    id: "5",
    name: "Dr. Amit Patel",
    specialty: "Orthopedic Surgeon",
    address: "503, Koregaon Park",
    area: "Koregaon Park",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.9,
    experience: 20,
    languages: ["English", "Hindi", "Gujarati"],
    education: ["MBBS - KEM", "MS - Orthopedics, AIIMS"],
    available: true,
    consultationFee: 2500,
    imageUrl: "https://example.com/doctor5.jpg",
    gender: "male",
    location: { lat: 18.5362, lng: 73.8931 }
  },
  {
    id: "6",
    name: "Dr. Priya Sharma",
    specialty: "Gynecologist",
    address: "604, JM Road",
    area: "Deccan",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.6,
    experience: 14,
    languages: ["English", "Hindi", "Marathi"],
    education: ["MBBS - BJMC", "MD - Gynecology, AIIMS"],
    available: true,
    consultationFee: 1800,
    imageUrl: "https://example.com/doctor6.jpg",
    gender: "female",
    location: { lat: 18.5167, lng: 73.8562 }
  },
  {
    id: "7",
    name: "Dr. Michael Chen",
    specialty: "Ophthalmologist",
    address: "705, Aundh Road",
    area: "Aundh",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.8,
    experience: 16,
    languages: ["English", "Mandarin"],
    education: ["MBBS - AFMC", "MS - Ophthalmology, AIIMS"],
    available: true,
    consultationFee: 1500,
    imageUrl: "https://example.com/doctor7.jpg",
    gender: "male",
    location: { lat: 18.5604, lng: 73.8080 }
  },
  {
    id: "8",
    name: "Dr. Emily Brown",
    specialty: "Psychiatrist",
    address: "806, Kharadi",
    area: "Kharadi",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.7,
    experience: 10,
    languages: ["English", "Hindi"],
    education: ["MBBS - BJMC", "MD - Psychiatry, NIMHANS"],
    available: true,
    consultationFee: 2000,
    imageUrl: "https://example.com/doctor8.jpg",
    gender: "female",
    location: { lat: 18.5679, lng: 73.9140 }
  },
  {
    id: "9",
    name: "Dr. Suresh Reddy",
    specialty: "ENT Specialist",
    address: "907, Viman Nagar",
    area: "Viman Nagar",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.5,
    experience: 13,
    languages: ["English", "Hindi", "Telugu"],
    education: ["MBBS - AFMC", "MS - ENT, JIPMER"],
    available: true,
    consultationFee: 1400,
    imageUrl: "https://example.com/doctor9.jpg",
    gender: "male",
    location: { lat: 18.5679, lng: 73.9143 }
  },
  {
    id: "10",
    name: "Dr. Lisa Wong",
    specialty: "Dentist",
    address: "1001, FC Road",
    area: "Shivajinagar",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.6,
    experience: 9,
    languages: ["English", "Mandarin"],
    education: ["BDS - MUHS", "MDS - Orthodontics"],
    available: true,
    consultationFee: 1200,
    imageUrl: "https://example.com/doctor10.jpg",
    gender: "female",
    location: { lat: 18.5300, lng: 73.8452 }
  },
  {
    id: "11",
    name: "Dr. Anil Verma",
    specialty: "Pulmonologist",
    address: "1102, Wakad",
    area: "Wakad",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.8,
    experience: 18,
    languages: ["English", "Hindi", "Marathi"],
    education: ["MBBS - AFMC", "MD - Pulmonology, PGIMER"],
    available: true,
    consultationFee: 1800,
    imageUrl: "https://example.com/doctor11.jpg",
    gender: "male",
    location: { lat: 18.5908, lng: 73.7679 }
  },
  {
    id: "12",
    name: "Dr. Rachel Green",
    specialty: "Nutritionist",
    address: "1203, Kalyani Nagar",
    area: "Kalyani Nagar",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.4,
    experience: 7,
    languages: ["English", "Hindi"],
    education: ["BSc - Nutrition", "MSc - Dietetics"],
    available: true,
    consultationFee: 1000,
    imageUrl: "https://example.com/doctor12.jpg",
    gender: "female",
    location: { lat: 18.5489, lng: 73.9089 }
  },
  {
    id: "13",
    name: "Dr. David Lee",
    specialty: "Urologist",
    address: "1304, Hadapsar",
    area: "Hadapsar",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.7,
    experience: 15,
    languages: ["English", "Korean"],
    education: ["MBBS - AFMC", "MS - Urology, AIIMS"],
    available: true,
    consultationFee: 2200,
    imageUrl: "https://example.com/doctor13.jpg",
    gender: "male",
    location: { lat: 18.5089, lng: 73.9260 }
  },
  {
    id: "14",
    name: "Dr. Meera Shah",
    specialty: "Endocrinologist",
    address: "1405, Kothrud",
    area: "Kothrud",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.9,
    experience: 16,
    languages: ["English", "Hindi", "Gujarati"],
    education: ["MBBS - BJMC", "DM - Endocrinology, AIIMS"],
    available: true,
    consultationFee: 2000,
    imageUrl: "https://example.com/doctor14.jpg",
    gender: "female",
    location: { lat: 18.5074, lng: 73.8077 }
  },
  {
    id: "15",
    name: "Dr. James Wilson",
    specialty: "Oncologist",
    address: "1506, Model Colony",
    area: "Model Colony",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.8,
    experience: 20,
    languages: ["English", "French"],
    education: ["MBBS - AFMC", "DM - Medical Oncology, TMH"],
    available: true,
    consultationFee: 2500,
    imageUrl: "https://example.com/doctor15.jpg",
    gender: "male",
    location: { lat: 18.5204, lng: 73.8567 }
  },
  {
    id: "16",
    name: "Dr. Anita Desai",
    specialty: "Rheumatologist",
    address: "1607, Wanowrie",
    area: "Wanowrie",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.6,
    experience: 14,
    languages: ["English", "Hindi", "Marathi"],
    education: ["MBBS - BJMC", "DM - Rheumatology, AIIMS"],
    available: true,
    consultationFee: 1800,
    imageUrl: "https://example.com/doctor16.jpg",
    gender: "female",
    location: { lat: 18.4869, lng: 73.8989 }
  },
  {
    id: "17",
    name: "Dr. Robert Martinez",
    specialty: "Neurologist",
    address: "1708, Bavdhan",
    area: "Bavdhan",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.7,
    experience: 17,
    languages: ["English", "Spanish"],
    education: ["MBBS - AFMC", "DM - Neurology, NIMHANS"],
    available: true,
    consultationFee: 2000,
    imageUrl: "https://example.com/doctor17.jpg",
    gender: "male",
    location: { lat: 18.5195, lng: 73.7749 }
  },
  {
    id: "18",
    name: "Dr. Neha Gupta",
    specialty: "Pediatric Surgeon",
    address: "1809, Magarpatta",
    area: "Magarpatta",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.9,
    experience: 15,
    languages: ["English", "Hindi", "Bengali"],
    education: ["MBBS - AFMC", "MS - Pediatric Surgery, AIIMS"],
    available: true,
    consultationFee: 2200,
    imageUrl: "https://example.com/doctor18.jpg",
    gender: "female",
    location: { lat: 18.5169, lng: 73.9276 }
  },
  {
    id: "19",
    name: "Dr. Thomas Anderson",
    specialty: "Sports Medicine",
    address: "1910, NIBM Road",
    area: "NIBM",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.6,
    experience: 12,
    languages: ["English", "German"],
    education: ["MBBS - BJMC", "Fellowship in Sports Medicine"],
    available: true,
    consultationFee: 1800,
    imageUrl: "https://example.com/doctor19.jpg",
    gender: "male",
    location: { lat: 18.4778, lng: 73.9006 }
  },
  {
    id: "20",
    name: "Dr. Maya Patel",
    specialty: "Allergist",
    address: "2011, Hinjewadi",
    area: "Hinjewadi",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.5,
    experience: 10,
    languages: ["English", "Hindi", "Gujarati"],
    education: ["MBBS - BJMC", "MD - Allergy & Immunology"],
    available: true,
    consultationFee: 1500,
    imageUrl: "https://example.com/doctor20.jpg",
    gender: "female",
    location: { lat: 18.5989, lng: 73.7389 }
  },
  {
    id: "21",
    name: "Dr. William Clark",
    specialty: "Plastic Surgeon",
    address: "2112, Pashan",
    area: "Pashan",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.8,
    experience: 18,
    languages: ["English", "French"],
    education: ["MBBS - AFMC", "MS - Plastic Surgery, AIIMS"],
    available: true,
    consultationFee: 3000,
    imageUrl: "https://example.com/doctor21.jpg",
    gender: "male",
    location: { lat: 18.5314, lng: 73.7868 }
  },
  {
    id: "22",
    name: "Dr. Shalini Kapoor",
    specialty: "Family Medicine",
    address: "2213, Sus Road",
    area: "Sus",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.4,
    experience: 9,
    languages: ["English", "Hindi", "Punjabi"],
    education: ["MBBS - BJMC", "MD - Family Medicine"],
    available: true,
    consultationFee: 1000,
    imageUrl: "https://example.com/doctor22.jpg",
    gender: "female",
    location: { lat: 18.5590, lng: 73.7669 }
  },
  {
    id: "23",
    name: "Dr. Kevin Park",
    specialty: "Pain Management",
    address: "2314, Wagholi",
    area: "Wagholi",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.7,
    experience: 13,
    languages: ["English", "Korean"],
    education: ["MBBS - AFMC", "Fellowship in Pain Medicine"],
    available: true,
    consultationFee: 1800,
    imageUrl: "https://example.com/doctor23.jpg",
    gender: "male",
    location: { lat: 18.5747, lng: 73.9593 }
  },
  {
    id: "24",
    name: "Dr. Rashmi Deshmukh",
    specialty: "Geriatrician",
    address: "2415, Pimple Saudagar",
    area: "Pimple Saudagar",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.6,
    experience: 16,
    languages: ["English", "Hindi", "Marathi"],
    education: ["MBBS - BJMC", "MD - Geriatric Medicine"],
    available: true,
    consultationFee: 1500,
    imageUrl: "https://example.com/doctor24.jpg",
    gender: "female",
    location: { lat: 18.5897, lng: 73.7925 }
  },
  {
    id: "25",
    name: "Dr. Christopher Lee",
    specialty: "Neonatologist",
    address: "2516, Pimpri",
    area: "Pimpri",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.9,
    experience: 14,
    languages: ["English", "Mandarin"],
    education: ["MBBS - AFMC", "MD - Neonatology"],
    available: true,
    consultationFee: 2000,
    imageUrl: "https://example.com/doctor25.jpg",
    gender: "male",
    location: { lat: 18.6297, lng: 73.7997 }
  },
  {
    id: "26",
    name: "Dr. Anjali Mehta",
    specialty: "Infectious Disease",
    address: "2617, Chinchwad",
    area: "Chinchwad",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.7,
    experience: 12,
    languages: ["English", "Hindi", "Gujarati"],
    education: ["MBBS - BJMC", "MD - Infectious Disease"],
    available: true,
    consultationFee: 1800,
    imageUrl: "https://example.com/doctor26.jpg",
    gender: "female",
    location: { lat: 18.6298, lng: 73.7997 }
  },
  {
    id: "27",
    name: "Dr. Richard White",
    specialty: "Hematologist",
    address: "2718, Akurdi",
    area: "Akurdi",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.8,
    experience: 19,
    languages: ["English", "Spanish"],
    education: ["MBBS - AFMC", "DM - Clinical Hematology"],
    available: true,
    consultationFee: 2200,
    imageUrl: "https://example.com/doctor27.jpg",
    gender: "male",
    location: { lat: 18.6519, lng: 73.7779 }
  },
  {
    id: "28",
    name: "Dr. Pooja Sharma",
    specialty: "Sleep Medicine",
    address: "2819, Bhosari",
    area: "Bhosari",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.5,
    experience: 11,
    languages: ["English", "Hindi", "Marathi"],
    education: ["MBBS - BJMC", "Fellowship in Sleep Medicine"],
    available: true,
    consultationFee: 1600,
    imageUrl: "https://example.com/doctor28.jpg",
    gender: "female",
    location: { lat: 18.6279, lng: 73.8478 }
  },
  {
    id: "29",
    name: "Dr. Daniel Brown",
    specialty: "Vascular Surgeon",
    address: "2920, Nigdi",
    area: "Nigdi",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.8,
    experience: 17,
    languages: ["English", "German"],
    education: ["MBBS - AFMC", "MS - Vascular Surgery"],
    available: true,
    consultationFee: 2500,
    imageUrl: "https://example.com/doctor29.jpg",
    gender: "male",
    location: { lat: 18.6583, lng: 73.7641 }
  },
  {
    id: "30",
    name: "Dr. Sunita Patil",
    specialty: "Nuclear Medicine",
    address: "3021, Ravet",
    area: "Ravet",
    city: "Pune",
    state: "Maharashtra",
    country: "India",
    rating: 4.6,
    experience: 15,
    languages: ["English", "Hindi", "Marathi"],
    education: ["MBBS - BJMC", "MD - Nuclear Medicine"],
    available: true,
    consultationFee: 2000,
    imageUrl: "https://example.com/doctor30.jpg",
    gender: "female",
    location: { lat: 18.6489, lng: 73.7579 }
  }
];

// Export areas and specialties arrays
export { puneAreas, specialties };

// Search and filter functions
export function searchDoctors(doctorsList: Doctor[], query: string): Doctor[] {
  const searchTerm = query.toLowerCase();
  return doctorsList.filter(doctor => 
    doctor.name.toLowerCase().includes(searchTerm) ||
    doctor.specialty.toLowerCase().includes(searchTerm) ||
    doctor.area.toLowerCase().includes(searchTerm) ||
    doctor.city.toLowerCase().includes(searchTerm)
  );
}

export function filterDoctors(doctorsList: Doctor[], filters: {
  specialty?: string;
  city?: string;
  area?: string;
  rating?: number;
  available?: boolean;
}): Doctor[] {
  return doctorsList.filter(doctor => {
    if (filters.specialty && doctor.specialty !== filters.specialty) return false;
    if (filters.city && doctor.city !== filters.city) return false;
    if (filters.area && doctor.area !== filters.area) return false;
    if (filters.rating && doctor.rating < filters.rating) return false;
    if (filters.available !== undefined && doctor.available !== filters.available) return false;
    return true;
  });
}

// Get unique values for filters
export function getUniqueSpecialties(doctors: Doctor[]): string[] {
  return [...new Set(doctors.map(doctor => doctor.specialty))];
}

export function getUniqueCities(doctors: Doctor[]): string[] {
  return [...new Set(doctors.map(doctor => doctor.city))];
}

export function getUniqueAreas(doctors: Doctor[]): string[] {
  return [...new Set(doctors.map(doctor => doctor.area))];
}
